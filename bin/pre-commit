#!/bin/sh

printf "\nBy contributing to this project, you license the materials you contribute under the GNU General Public License v2 (or later). All materials must have GPLv2 compatible licenses â€” see .github/CONTRIBUTING.md for details.\n\n"

export ESLINES_DIFF='index'; ./bin/run-lint $(git diff --cached --name-only )
linter_exit_code=`echo $?` # take exit code from run-lint script
unset ESLINES_DIFF

if [ ! 0 = "$linter_exit_code" ]
then
	echo "\n\033[41mCOMMIT ABORTED:\033[0m the linter reported some problems. If you are aware of them and it is OK, you can repeat the command with --no-verify to avoid this check.\n"
fi
exit $linter_exit_code
